<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>جادوگر کمپین ایمیل</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style type="text/tailwindcss">
        @tailwind base;
        @tailwind components;
        @tailwind utilities;

        @layer base {
          body {
            @apply min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-200 transition-colors duration-300 font-sans antialiased;
          }
        }

        @layer components {
          /* Page Layout */
          .page-container { @apply w-full max-w-7xl; }
          .app-container { @apply flex flex-col items-center justify-start p-4 sm:p-6 lg:p-8; }
          .page-main-content { @apply mt-12 bg-white dark:bg-slate-800/50 rounded-xl shadow-2xl dark:shadow-slate-950/50 ring-1 ring-black/5 dark:ring-white/10 p-6 sm:p-10; }

          /* Buttons */
          .btn { @apply rounded-md transition-colors duration-200 font-semibold inline-flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed; }
          .btn-primary { @apply px-6 py-2 bg-brand-purple text-white hover:bg-violet-700; }
          .btn-secondary { @apply px-6 py-2 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600; }
          .btn-launch { @apply px-8 py-3 bg-gradient-to-r from-brand-pink to-brand-mint text-white rounded-md hover:opacity-90 transition-opacity duration-200 font-bold text-lg; }
          .btn-ai { @apply flex items-center justify-center gap-3 px-5 py-3 bg-gradient-to-r from-brand-purple to-brand-pink text-white rounded-lg font-semibold shadow-lg shadow-brand-purple/30 dark:shadow-brand-pink/20 transition-all duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-105 hover:shadow-2xl hover:shadow-brand-purple/40 dark:hover:shadow-brand-pink/30 active:translate-y-0 active:scale-100 active:shadow-lg; }
          .btn-ai-suggestion { @apply text-sm px-3 py-1.5 bg-brand-purple/20 text-brand-purple rounded-md hover:bg-brand-purple/30 disabled:cursor-wait flex items-center gap-2; }
          .btn-filter { @apply px-4 py-2 text-sm rounded-full border transition-colors duration-200; }
          .btn-filter-selected { @apply bg-brand-mint/20 border-brand-mint text-slate-800 dark:text-white; }
          .btn-filter-unselected { @apply bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300; }

          /* Cards */
          .card { @apply bg-slate-100 dark:bg-slate-900/70 p-6 rounded-xl border border-slate-200 dark:border-slate-700; }
          .card-category { @apply p-4 rounded-lg border-2 transition-all duration-200 cursor-pointer; }
          .card-category-selected { @apply bg-violet-50 dark:bg-slate-700/80 border-brand-purple; }
          .card-category-unselected { @apply bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-700 hover:border-slate-400 dark:hover:border-slate-600; }
          .card-audience { @apply bg-white dark:bg-slate-800/50 rounded-xl shadow-lg ring-1 ring-black/5 dark:ring-white/10 overflow-hidden flex flex-col sm:flex-row items-center p-5 transition-transform duration-300 hover:-translate-y-1; }
          .card-report { @apply bg-white dark:bg-slate-800/50 p-5 rounded-xl shadow-lg ring-1 ring-black/5 dark:ring-white/10 flex flex-col sm:flex-row items-center justify-between transition-all duration-300 hover:shadow-xl hover:ring-brand-purple/50 dark:hover:ring-brand-purple cursor-pointer; }
          .card-dashboard { @apply bg-white dark:bg-slate-800/50 rounded-xl shadow-lg ring-1 ring-black/5 dark:ring-white/10 p-6 flex flex-col justify-between transition-all duration-300; }
          .card-dashboard-hover { @apply hover:transform hover:-translate-y-1 hover:shadow-2xl hover:ring-brand-purple/50 dark:hover:ring-brand-purple; }

          /* Inputs */
          .input { @apply w-full bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-700 rounded-md p-3 text-slate-900 dark:text-white focus:ring-brand-purple focus:border-brand-purple transition-colors; }
          .input-range { @apply w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer dark:bg-slate-700; }

          /* Typography */
          .h2 { @apply text-2xl font-bold text-slate-900 dark:text-white; }
          .p-description { @apply text-slate-500 dark:text-slate-400 mb-8; }
          .label { @apply block text-sm font-medium text-slate-700 dark:text-slate-300; }
          .summary-label { @apply text-sm text-slate-500 dark:text-slate-400; }
          .summary-value { @apply text-lg font-semibold text-slate-900 dark:text-white; }

          /* Modals */
          .modal-overlay { @apply fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in; }
          .modal-container { @apply bg-slate-50 dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col; }
          .modal-header { @apply flex justify-between items-center p-6 border-b border-slate-200 dark:border-slate-800; }
          .modal-content { @apply flex-grow p-6 lg:p-8 overflow-y-auto space-y-6; }
          .modal-footer { @apply p-6 bg-slate-100 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-800 flex justify-end gap-4; }

          /* Toggle Switch */
          .toggle-switch { @apply relative inline-flex h-6 w-11 items-center rounded-full transition-colors; }
          .toggle-switch-on { @apply bg-brand-purple; }
          .toggle-switch-off { @apply bg-slate-400 dark:bg-slate-600; }
          .toggle-switch-handle { @apply inline-block h-4 w-4 transform rounded-full bg-white transition-transform; }
          .toggle-switch-handle-on { @apply -translate-x-6; }
          .toggle-switch-handle-off { @apply -translate-x-1; }
          .toggle-switch-ab-on { @apply bg-brand-mint; }
          
          /* Health Indicators */
          .health-excellent { @apply text-green-500 dark:text-green-400 bg-green-100 dark:bg-green-900/50; }
          .health-good { @apply text-yellow-500 dark:text-yellow-400 bg-yellow-100 dark:bg-yellow-900/50; }
          .health-poor { @apply text-red-500 dark:text-red-400 bg-red-100 dark:bg-red-900/50; }
          .health-indicator-excellent { @apply bg-green-400; }
          .health-indicator-good { @apply bg-yellow-400; }
          .health-indicator-poor { @apply bg-red-400; }
          
          /* Dashboard specific */
          .dashboard-icon-container { @apply w-12 h-12 rounded-lg flex items-center justify-center; }
        }
    </style>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Vazirmatn', 'sans-serif'],
                    },
                    colors: {
                        'brand-purple': '#6D28D9',
                        'brand-pink': '#EC4899',
                        'brand-mint': '#6EE7B7',
                        'slate': {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                            950: '#020617',
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-in-up': 'slideInUp 0.5s ease-out',
                        'spin-slow': 'spin 2s linear infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: 0 },
                            '100%': { opacity: 1 },
                        },
                        slideInUp: {
                            '0%': { transform: 'translateY(20px)', opacity: 0 },
                            '100%': { transform: 'translateY(0)', opacity: 1 },
                        }
                    }
                }
            }
        }
    </script>
<script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.1.1/",
    "react": "https://esm.sh/react@^19.1.1",
    "react-dom/": "https://esm.sh/react-dom@^19.1.1/",
    "@google/genai": "https://esm.sh/@google/genai@^1.13.0",
    "recharts": "https://esm.sh/recharts@^3.1.2"
  }
}
</script>
</head>
<body>
    <div id="root"></div>
    <script>
      // In a real production app, this key should not be hardcoded in the client-side
      // code. For a secure deployment, you should use a backend proxy or a build tool 
      // that can manage environment variables safely. For this prototype, we are defining 
      // it here to resolve the application's loading error.
      window.process = {
        env: {
          // IMPORTANT: Replace this placeholder with your actual Google Gemini API key.
          API_KEY: 'AIzaSyCt-_hrZ-josNNYe8ukRFLVUbXnfMGawac'
        }
      };
      
    </script>
    <script type="module" src="/index.tsx"></script>
</body>
</html>